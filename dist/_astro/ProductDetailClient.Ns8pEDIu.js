import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.DiEladB3.js";import{u}from"./useCart.B1wYzpCN.js";const f="https://images.unsplash.com/photo-1516594798947-e65505dbb29d?auto=format&fit=crop&w=900&q=80";function y({product:l}){const{addToCart:p}=u(),[n,m]=r.useState(0),[d,x]=r.useState(0),s=l.images?.edges?.map(t=>t.node)??[],o=l.variants?.edges?.map(t=>t.node)??[],a=o[n],h=s[d]?.url||f,c=r.useMemo(()=>{const t=a?.price?.amount??a?.priceV2?.amount;return t?`R${parseFloat(t).toLocaleString()}`:""},[a]);function g(){a?.availableForSale&&p(a,l)}return e.jsxs("section",{className:"product-detail-layout pdp-tight",children:[e.jsxs("div",{className:"pdp-media",children:[e.jsx("div",{className:"gold-outline pdp-main-image",children:e.jsx("img",{src:h,alt:l.title,style:{width:"74%",height:"88%",objectFit:"contain",margin:"0 auto"}})}),s.length>1&&e.jsx("div",{style:{display:"flex",gap:"4px",marginTop:"6px",flexWrap:"wrap"},children:s.map((t,i)=>e.jsx("button",{onClick:()=>x(i),style:{width:"42px",height:"54px",borderRadius:"var(--radius-sm)",overflow:"hidden",border:i===d?"2px solid var(--color-gold)":"1px solid rgba(197,164,90,0.2)",padding:0,background:"var(--color-surface)"},children:e.jsx("img",{src:t.url,alt:t.altText||`${l.title} ${i+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},t.url))})]}),e.jsxs("div",{className:"pdp-info",children:[e.jsx("p",{className:"section-label",style:{margin:"0 0 4px"},children:"JNW Collection"}),e.jsx("h1",{style:{margin:"0 0 6px",fontSize:"clamp(1.2rem, 2.8vw, 1.7rem)",lineHeight:1.1},children:l.title}),c&&e.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.95rem",color:"var(--color-gold-soft)"},children:c}),l.description&&e.jsx("p",{style:{margin:"0 0 10px",fontFamily:"Inter, sans-serif",fontSize:"0.76rem",lineHeight:1.45,color:"var(--color-text-muted)"},children:l.description}),o.length>1&&e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("p",{style:{margin:"0 0 4px",fontFamily:"Inter, sans-serif",fontSize:"0.62rem",color:"var(--color-text-muted)"},children:"Choose variant"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:o.map((t,i)=>e.jsx("button",{type:"button",onClick:()=>m(i),disabled:!t.availableForSale,className:i===n?"variant-pill variant-pill-active":"variant-pill",children:t.title},t.id))})]}),e.jsx("button",{type:"button",className:a?.availableForSale?"btn-gold":"btn-outline",onClick:g,disabled:!a?.availableForSale,style:{width:"100%",maxWidth:"240px",padding:"7px 11px"},children:a?.availableForSale?"Add to cart":"Sold out"}),a?.sku&&e.jsxs("p",{style:{marginTop:"6px",fontFamily:"Inter, sans-serif",fontSize:"0.6rem",color:"var(--color-text-muted)"},children:["SKU: ",a.sku]})]})]})}export{y as default};
